# ===========================================
# CONFIGURACIÓN DEL SERVIDOR
# ===========================================
NODE_ENV=development
PORT=3001

# ===========================================
# GROQ (Proveedor primario - rápido y gratuito)
# ===========================================
GROQ_API_KEY=
GROQ_MODEL=llama-3.3-70b-versatile

# ===========================================
# OPENAI (Proveedor principal - usando API key actualizada)
# ===========================================
OPENAI_API_KEY=
# WHATSAPP - PROVIDER SELECCIÓN
# ===========================================
# Opciones: 'baileys' (recomendado, sin navegador) o 'web' (whatsapp-web.js, requiere Chrome)
WHATSAPP_PROVIDER=baileys

# ===========================================
# WHATSAPP - META (Cloud API) - NO USADO CON BAILEYS
# ===========================================
META_ACCESS_TOKEN=your-meta-access-token
META_PHONE_NUMBER_ID=your-phone-number-id
META_WEBHOOK_VERIFY_TOKEN=norboy2026
META_API_VERSION=v18.0

# ===========================================
# BASE DE CONOCIMIENTO
# ===========================================
KNOWLEDGE_FILE=./PreguntasRespuestas.txt

# ===========================================
# ARCHIVOS Y MEDIA
# ===========================================
MAX_FILE_SIZE_MB=25
UPLOAD_DIR=./uploads
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,mp3,ogg,mp4,pdf

# ===========================================
# LOGGING
# ===========================================
LOG_LEVEL=debug
LOG_DIR=./logs

# ===========================================
# EMBEDDINGS - BÚSQUEDA VECTORIAL
# ===========================================
# ✅ ACTIVADO: Ahora usa @xenova/transformers (local, gratuito)
# Modelo de embeddings a usar (recomendado: text-embedding-3-small)
EMBEDDING_MODEL=text-embedding-3-small
# Tamaño del batch para generar embeddings (máximo recomendado: 100)
EMBEDDING_BATCH_SIZE=100
# Usar embeddings para búsqueda (true/false)
USE_EMBEDDINGS=true

# ===========================================
# ✅ NUEVO: FLUJO DE MENÚ PRINCIPAL
# ===========================================
# Habilita el nuevo flujo de menú NORBOY con 4 opciones
# true: Usa el nuevo flujo (saludo + menú + consentimiento)
# false: Usa el flujo original (saludo simple + consentimiento)
USE_NEW_MENU_FLOW=true

# ===========================================
# ZONA HORARIA FIJA (NO depende del servidor)
# ===========================================
# Zona horaria explícita para todas las operaciones de fecha/hora
# NO depende de la zona horaria del servidor AWS ni del país de conexión
TIMEZONE=America/Bogota

# ===========================================
# CONTROL ANTI-SPAM
# ===========================================
# Número máximo de mensajes repetidos antes de bloquear respuesta
SPAM_MAX_REPEATED=3
# Umbral de similaridad (0-1) para considerar mensajes como repetidos
SPAM_SIMILARITY_THRESHOLD=0.9
# Número de mensajes recientes a guardar para comparación
SPAM_HISTORY_SIZE=10
